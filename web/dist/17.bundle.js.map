{"version":3,"sources":["webpack:///./src/components/pages/contribution/listen/listen.css?813e","webpack:///./src/components/pages/contribution/listen/listen.tsx"],"names":[],"mappings":"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","file":"17.bundle.js","sourcesContent":["// extracted by mini-css-extract-plugin","import { Localized } from 'fluent-react/compat';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { trackListening } from '../../../../services/tracker';\nimport { Clips } from '../../../../stores/clips';\nimport { Locale } from '../../../../stores/locale';\nimport StateTree from '../../../../stores/tree';\nimport URLS from '../../../../urls';\nimport {\n  CheckIcon,\n  CrossIcon,\n  MicIcon,\n  OldPlayIcon,\n  ThumbsDownIcon,\n  ThumbsUpIcon,\n  VolumeIcon,\n} from '../../../ui/icons';\nimport { LinkButton } from '../../../ui/ui';\nimport ContributionPage, {\n  ContributionPillProps,\n  SET_COUNT,\n} from '../contribution';\nimport { PlayButton } from '../../../primary-buttons/primary-buttons';\nimport Pill from '../pill';\n\nimport './listen.css';\n\nconst VOTE_NO_PLAY_MS = 3000; // Threshold when to allow voting no\n\nconst VoteButton = ({\n  kind,\n  ...props\n}: { kind: 'yes' | 'no' } & React.ButtonHTMLAttributes<any>) => (\n  <button type=\"button\" className={['vote-button', kind].join(' ')} {...props}>\n    {kind === 'yes' && <ThumbsUpIcon />}\n    {kind === 'no' && <ThumbsDownIcon />}\n    <Localized id={'vote-' + kind}>\n      <span />\n    </Localized>\n  </button>\n);\n\ninterface PropsFromState {\n  clips: Clips.Clip[];\n  isLoading: boolean;\n  locale: Locale.State;\n}\n\ninterface PropsFromDispatch {\n  removeClip: typeof Clips.actions.remove;\n  vote: typeof Clips.actions.vote;\n}\n\ninterface Props extends PropsFromState, PropsFromDispatch {}\n\ninterface State {\n  clips: (Clips.Clip & { isValid?: boolean })[];\n  hasPlayed: boolean;\n  hasPlayedSome: boolean;\n  isPlaying: boolean;\n  isSubmitted: boolean;\n}\n\nconst initialState: State = {\n  clips: [],\n  hasPlayed: false,\n  hasPlayedSome: false,\n  isPlaying: false,\n  isSubmitted: false,\n};\n\nclass ListenPage extends React.Component<Props, State> {\n  audioRef = React.createRef<HTMLAudioElement>();\n  playedSomeInterval: any;\n\n  state: State = initialState;\n\n  static getDerivedStateFromProps(props: Props, state: State) {\n    if (state.clips.length > 0) return null;\n\n    if (props.clips.length > 0) {\n      return {\n        clips: props.clips\n          .slice(0, SET_COUNT)\n          .map(clip => ({ ...clip, isValid: null })),\n      };\n    }\n\n    return null;\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.playedSomeInterval);\n    // this.audioPlayer.close();\n  }\n\n  private getClipIndex() {\n    return this.state.clips.findIndex(clip => clip.isValid === null);\n  }\n\n  private play = () => {\n    if (this.state.isPlaying) {\n      this.stop();\n      return;\n    }\n\n    this.audioRef.current.play();\n    this.setState({ isPlaying: true });\n    clearInterval(this.playedSomeInterval);\n    this.playedSomeInterval = setInterval(\n      () => this.setState({ hasPlayedSome: true }),\n      VOTE_NO_PLAY_MS\n    );\n  };\n\n  private stop = () => {\n    const audio = this.audioRef.current;\n    audio.pause();\n    audio.currentTime = 0;\n    clearInterval(this.playedSomeInterval);\n    this.setState({ isPlaying: false });\n  };\n\n  private hasPlayed = () => {\n    this.setState({ hasPlayed: true, isPlaying: false });\n    trackListening('listen', this.props.locale);\n  };\n\n  private vote = (isValid: boolean) => {\n    const { clips } = this.state;\n    const clipIndex = this.getClipIndex();\n\n    this.stop();\n    this.props.vote(isValid, this.state.clips[this.getClipIndex()].id);\n    this.setState({\n      hasPlayed: false,\n      hasPlayedSome: false,\n      isPlaying: false,\n      isSubmitted: clipIndex === SET_COUNT - 1,\n      clips: clips.map((clip, i) =>\n        i === clipIndex ? { ...clip, isValid } : clip\n      ),\n    });\n  };\n\n  private voteYes = () => {\n    if (!this.state.hasPlayed) {\n      return;\n    }\n    this.vote(true);\n    trackListening('vote-yes', this.props.locale);\n  };\n\n  private voteNo = () => {\n    const { hasPlayed, hasPlayedSome } = this.state;\n    if (!hasPlayed && !hasPlayedSome) {\n      return;\n    }\n    this.vote(false);\n    trackListening('vote-no', this.props.locale);\n  };\n\n  private handleSkip = () => {\n    const { removeClip } = this.props;\n    const { clips } = this.state;\n    this.stop();\n    removeClip(clips[this.getClipIndex()].id);\n    this.setState({\n      clips: clips.map((clip, i) =>\n        this.getClipIndex() === i\n          ? { ...this.props.clips.slice(SET_COUNT)[0], isValid: null }\n          : clip\n      ),\n      hasPlayed: false,\n      hasPlayedSome: false,\n    });\n  };\n\n  private reset = () => this.setState(initialState);\n\n  render() {\n    const {\n      clips,\n      hasPlayed,\n      hasPlayedSome,\n      isPlaying,\n      isSubmitted,\n    } = this.state;\n    const clipIndex = this.getClipIndex();\n    const activeClip = clips[clipIndex];\n    return (\n      <React.Fragment>\n        <audio\n          {...(activeClip && { src: activeClip.audioSrc })}\n          preload=\"auto\"\n          onEnded={this.hasPlayed}\n          ref={this.audioRef}\n        />\n        <ContributionPage\n          activeIndex={clipIndex}\n          errorContent={\n            !this.props.isLoading &&\n            (clips.length === 0 || !activeClip) && (\n              <div className=\"empty-container\">\n                <div className=\"error-card card-dimensions\">\n                  <Localized id=\"nothing-to-validate\">\n                    <span />\n                  </Localized>\n                  <LinkButton\n                    rounded\n                    to={URLS.SPEAK}\n                    className=\"record-instead\">\n                    <MicIcon />{' '}\n                    <Localized id=\"record-button-label\">\n                      <span />\n                    </Localized>\n                  </LinkButton>\n                </div>\n              </div>\n            )\n          }\n          instruction={props =>\n            activeClip &&\n            !isPlaying &&\n            !hasPlayedSome &&\n            !hasPlayed && (\n              <Localized\n                id={\n                  clipIndex === SET_COUNT - 1\n                    ? 'listen-last-time-instruction'\n                    : [\n                        'listen-instruction',\n                        'listen-again-instruction',\n                        'listen-3rd-time-instruction',\n                      ][clipIndex] || 'listen-again-instruction'\n                }\n                playIcon={<OldPlayIcon />}\n                {...props}\n              />\n            )\n          }\n          isPlaying={isPlaying}\n          isSubmitted={isSubmitted}\n          onReset={this.reset}\n          onSkip={this.handleSkip}\n          primaryButtons={\n            <React.Fragment>\n              <VoteButton\n                kind=\"yes\"\n                onClick={this.voteYes}\n                disabled={!hasPlayed}\n              />\n              <PlayButton isPlaying={isPlaying} onClick={this.play} />\n              <VoteButton\n                kind=\"no\"\n                onClick={this.voteNo}\n                disabled={!hasPlayed && !hasPlayedSome}\n              />\n            </React.Fragment>\n          }\n          pills={clips.map(\n            ({ isValid }, i) => (props: ContributionPillProps) => {\n              const isVoted = isValid !== null;\n              const isActive = clipIndex === i;\n              return (\n                <Pill\n                  className={isVoted ? (isValid ? 'valid' : 'invalid') : ''}\n                  onClick={null}\n                  status={isActive ? 'active' : isVoted ? 'done' : 'pending'}\n                  {...props}>\n                  {isActive ? (\n                    <VolumeIcon />\n                  ) : isVoted ? (\n                    isValid ? (\n                      <CheckIcon />\n                    ) : (\n                      <CrossIcon />\n                    )\n                  ) : null}\n                </Pill>\n              );\n            }\n          )}\n          reportModalProps={{\n            reasons: [\n              'offensive-speech',\n              'grammar-or-spelling',\n              'different-language',\n            ],\n            kind: 'clip',\n            id: activeClip ? activeClip.id : null,\n          }}\n          sentences={clips.map(clip => clip.sentence)}\n          shortcuts={[\n            {\n              key: 'shortcut-play-toggle',\n              label: 'shortcut-play-toggle-label',\n              action: this.play,\n            },\n            {\n              key: 'shortcut-vote-yes',\n              label: 'vote-yes',\n              action: this.voteYes,\n            },\n            {\n              key: 'shortcut-vote-no',\n              label: 'vote-no',\n              action: this.voteNo,\n            },\n          ]}\n          type=\"listen\"\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = (state: StateTree) => {\n  const { clips, isLoading } = Clips.selectors.localeClips(state);\n  return {\n    clips,\n    isLoading,\n    locale: state.locale,\n  };\n};\n\nconst mapDispatchToProps = {\n  removeClip: Clips.actions.remove,\n  vote: Clips.actions.vote,\n};\n\nexport default connect<PropsFromState, any>(\n  mapStateToProps,\n  mapDispatchToProps\n)(ListenPage);\n"],"sourceRoot":""}